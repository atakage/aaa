<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


    <script>

        $(function(){


            
            $("#b-name").click(function(){
                let p_code = $("#p_code").val()
                val qdata = {
                	
                	p_code :	"P0033"
                	p_name : 	"홍길동"
                	p_addr :	"서울시"
                	
                }
                
                
                
                
                /*
                	기본문법: $.ajax()
                	속성 : $.ajax(속성)
                	속성은 json(javascript object notation) 형태로서 여러 값들을 세팅
                	url: 서버에 요청할 req주소
                	data: request 수행할 때 서버에 보낼 데이터를 싣기
                	success: server에서 정상적인 response가 되돌아왔을 때 실행할 함수
                	error: 서버에서 비정상 값을 보내거나 400, 500등의 코드ㅡㄹ 보냈을 때 실행할 함수
                	type: 서버에 request할 method ( type: 'GET', type:'POST' 형식으로 사용), 사용하지 않으면기본값은 type:GET
                	
                
                
                */
                
                
                
                

                $.ajax(
                    {
                        url: 'http://localhost:8080/product/pname', 
                        data: qdata //{'p_code' : p_code}, success : function(result){
                            $("#s-name").text(result)
                        }
                    }
                )
            })
            
            
            
            
              $("#b-oprice").click(function(){
                let p_code = $("#p_code").val()
                alert("판매가격" + p_code)

                $.ajax(
                    {
                        url: 'http://localhost:8080/product/oprice', 
                        data: {'p_code' : p_code}, success : function(result){
                            $("#s-oprice").text(result)
                        }
                    }
                )
            })
            
            
            
            $("#b-iprice").click(function(){
                let p_code = $("#p_code").val()
                alert("매입가격" + p_code)

                $.ajax(
                    {
                        url: 'http://localhost:8080/product/iprice', data: {'p_code' : p_code}, success : function(result){
                            $("#s-iprice").text(result)
                        }
                    }
                )
            })
            
            


            

        })
        
    </script>


    <style>

        p{
            border:1px solid red;
            margin: 10px;
            padding: 16px;
        }

        </style>
        

</head>
<body>

    <p><label>상품코드</label></p>
    <input id="p_code" name="p_code">


    <p><span id="s-name"></span><button class="b-search" id="b-name">상품명</button></p>
    <p><span id="s-oprice"></span><button class="b-search" id="b-oprice">판매가격</button></p>
    <p><span id="s-iprice"></span><button class="b-search" id="b-iprice">매입가격</button></p>
    
</body>
</html>